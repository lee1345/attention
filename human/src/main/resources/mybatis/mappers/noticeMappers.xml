<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="fs.four.human.notice.dao.NoticeDAO">

    <!-- 전체 주소록 조회 -->
    <select id="getAllNotice" resultType="NoticeVO">
        SELECT
        B_ID AS bId,
        B_TITLE AS bTitle,
        B_CONTENT AS bContent,
        B_WRITER AS bWriter,
        B_GROUP AS bGroup,
        B_CATEGORY AS bCategory,
        B_CREATED_DATE AS bCreatedDate,
        B_UPDATED_DATE AS bUpdatedDate
        FROM board
    </select>

    <!-- 검색 기능 -->
    <select id="searchNotice" resultType="NoticeVO">
        SELECT
        B_ID AS bId,
        B_TITLE AS bTitle,
        B_CONTENT AS bContent,
        B_WRITER AS bWriter,
        B_GROUP AS bGroup,
        B_CATEGORY AS bCategory,
        B_CREATED_DATE AS bCreatedDate,
        B_UPDATED_DATE AS bUpdatedDate
        FROM board
        WHERE LOWER(${category}) LIKE '%' || LOWER(#{query}) || '%' <!-- 검색 필터 적용 -->

    </select>
</mapper>
